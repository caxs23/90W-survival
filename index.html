<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>90Î≥ëÎèô ÌÖçÏä§Ìä∏ Ïñ¥ÎìúÎ≤§Ï≤ò</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            height: 100svh; /* Î™®Î∞îÏùº Ï£ºÏÜåÏ∞Ω ÎåÄÏùë */
            margin: 0;
            overflow: hidden;
        }
        .game-container {
            width: 100%;
            max-width: 500px;
            height: 100%;
            background: #1e293b;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        .text-display {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            gap: 1rem;
            line-height: 1.7;
            font-size: 1.05rem;
            /* Ïä§ÌÅ¨Î°§Î∞î Ïà®Í∏∞Í∏∞ (ÏÑ†ÌÉùÏÇ¨Ìï≠) */
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .text-display::-webkit-scrollbar {
            display: none;
        }
        .choice-container {
            padding: 1.25rem;
            background: #1e293b;
            border-top: 1px solid #334155;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            flex-shrink: 0; /* ÏÑ†ÌÉùÏßÄ ÏòÅÏó≠ ÌÅ¨Í∏∞ Í≥†Ï†ï */
        }
        .choice-btn {
            background: #334155;
            border: 1px solid #475569;
            padding: 0.875rem 1rem;
            border-radius: 0.75rem;
            text-align: left;
            transition: all 0.2s;
            opacity: 0;
            transform: translateY(10px);
            animation: fadeIn 0.4s forwards;
            font-size: 0.95rem;
            touch-action: manipulation;
        }
        .choice-btn:active {
            background: #475569;
            transform: scale(0.98);
        }
        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }
        .mental-bar {
            padding: 0.75rem 1.5rem;
            background: #0f172a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #334155;
            flex-shrink: 0;
        }
        .mental-icons {
            font-size: 1.25rem;
            letter-spacing: 0.2rem;
        }
        .typing-cursor::after {
            content: '|';
            animation: blink 0.7s infinite;
            color: #64748b;
        }
        @keyframes blink {
            50% { opacity: 0; }
        }
        .scene-title {
            color: #64748b;
            font-size: 0.75rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: -0.25rem;
        }
        .dialogue-text {
            white-space: pre-wrap;
            word-break: keep-all;
        }
    </style>
</head>
<body>

<div class="game-container">
    <div class="mental-bar" id="mentalBar">
        <span class="text-xs font-bold text-slate-400">Ï†ïÏã†Î†•</span>
        <div class="mental-icons" id="mentalIcons"></div>
    </div>
    
    <div class="text-display" id="textDisplay">
        <!-- ÎåÄÏÇ¨ Ï∂úÎ†• ÏòÅÏó≠ -->
    </div>

    <div class="choice-container" id="choiceContainer">
        <!-- ÏÑ†ÌÉùÏßÄ ÏòÅÏó≠ -->
    </div>
</div>

<script>
    const gameData = {
        'intro': {
            title: 'Ïù∏Ìä∏Î°ú',
            text: `ÏÑ∏ÏÉÅÏóî Ïù¥Ìï¥Ìï† Ïàò ÏóÜÎäî ÏÇ¨ÎûåÎì§Ïù¥ Ï∞∏ ÎßéÏùÄ Í≤É Í∞ôÎã§.\nÍ∞ÄÏû• Ïä¨Ìîà Í±¥, ÎÇ¥Í∞Ä ÏùºÌïòÎäî 90Î≥ëÎèôÏóê Ï†úÏùº ÎßéÎã§Îäî Í±∞Îã§.\nÏò§ÎäòÎèÑ Ïù¥ÏÉÅÌïú ÎßêÎì§ÏùÑ Î¨¥ÏÇ¨Ìûà ÌùòÎ†§Î≥¥ÎÇ¥Í≥† Ìá¥Í∑ºÌï† Ïàò ÏûàÏùÑÍπå?`,
            choices: [
                { text: '1. Î≥ëÎèôÏúºÎ°ú Ï∂úÍ∑ºÌïúÎã§.', next: 'scene1' }
            ]
        },
        'scene1': {
            title: 'Ïû•Î©¥ 1',
            text: `"ÏïàÎÖïÌïòÏÑ∏Ïöî~"\nÏßßÏùÄ Ïù∏ÏÇ¨Î•º ÌïòÍ≥† ÏûêÎ¶¨Ïóê ÏïâÎäîÎã§.\nÏù∏Í≥ÑÎ•º Î∞îÏÇê ÎßàÏπòÍ≥† ÏïÑÏπ®ÏïΩÏùÑ Î≥¥Î†§ÎäîÎç∞, Ïä§ÌÖåÏù¥ÏÖò ÏïûÏúºÎ°ú Î≥¥Ìò∏ÏÇ¨ÎãòüëìÏù¥ ÎÇòÌÉÄÎÇúÎã§.\n\n"ÏïÑ-Ìïòüéµ"\nÎ∂àÍ∏∏Ìïú ÌåîÎèôÏûëÏùÑ ÌïòÎ©∞ Í±∏Ïñ¥Ïò§Ïã†Îã§.\n"Ï∞∏üêüÏπò Î®πÏúºÎü¨ Í∞ëÏãúÎã§!üéµ"\n\nÎèÑÎåÄÏ≤¥ Î¨¥Ïä® ÎßêÏîÄÏùÑ ÌïòÏãúÎ†§Îäî Í±∏Íπå..\nÏ∞∏Ïπò ÌöåÎ•º ÎßêÏîÄÌïòÏãúÎäî Í±∏Íπå. ÏãùÏÇ¨ ÏïΩÏÜçÏùÑ Ïû°ÏúºÏãúÎ†§Îäî Í±∏Íπå.`,
            choices: [
                { text: '1. Ïù¥ÏïºÍ∏∞Î•º Îì§Ïñ¥Î≥∏Îã§.', next: 'scene1_1' },
                { text: '2. Ï†ÅÎãπÌûà ÎëòÎü¨ÎåÑÎã§.', next: 'scene1_2' }
            ]
        },
        'scene1_1': {
            title: 'Ïû•Î©¥ 1-1',
            text: `"Ï∞∏ÏπòÏöî~? Í∞ëÏûêÍ∏∞ Ïô† Ï∞∏ÏπòÏòàÏöî?"\n\n"Ïò§Îäò Ï†êÏã¨Ïù¥! Ï∞∏ÏπòÎßàÏöî ÎçÆÎ∞•Ïù¥ÏòàÏöî! Ìï≥Ìï≥Ìï≥! üòé"\n\n'Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Ïôú Ï†ÄÎü∞ ÎÜçÎã¥ÏùÑ ÌïòÏã§Íπå..'\n\nÎÑàÎ¨¥ Ïñ¥Ïù¥ÏóÜÎäî ÎÜçÎã¥Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥ÏßÑÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 2Î°ú Ìñ•ÌïúÎã§.)', next: 'scene2' }]
        },
        'scene1_2': {
            title: 'Ïû•Î©¥ 1-2',
            text: `"Ï†úÍ∞Ä Ï∞∏ÏπòÎ•º Î™ª Î®πÏñ¥Ïöî Î≥¥Ìò∏ÏÇ¨Îãò."\n\n"ÏïÑ, Í∑∏ÎûòÏöî? Ï†êÏã¨ Î©îÎâ¥Í∞Ä ÎÇòÏôÄÏÑú Í∑∏Îü∞Í±¥Îç∞.."\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Î©ãÏ©çÍ≤å ÏûêÎ¶¨Î°ú ÎèåÏïÑÍ∞îÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 2Î°ú Ìñ•ÌïúÎã§.)', next: 'scene2' }]
        },
        'scene2': {
            title: 'Ïû•Î©¥ 2',
            text: `ÏûêÎ¶¨Ïóê ÏïâÏïÑÏûàÎçò Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ, BÌåÄ ÏÑ†ÏÉùÎãòÏù¥ ÏûêÎ¶¨Î•º ÎπÑÏö¥ ÏÇ¨Ïù¥ Ïª¥Ìì®ÌÑ∞Ïóê ÏïâÏïòÎã§.\n\n"Ïù¥Î≤àÏóêÏöî, ÌòÑÎåÄÎ∞îÏù¥Ïò§ÏóêÏÑú 2ÏÉÅÏóê Îì§Ïñ¥Í∞ÑÍ≤å ÏûàÎäîÎç∞, Ïù¥Î≤àÏóêÎäî ÏßÑÏßú Ïú†Î†•ÌïòÍ±∞Îì†Ïöî. Í∑ºÎç∞ Î¨∏Ï†úÍ∞Ä ÏûàÏñ¥."\n\nÎäò ÌïòÏãúÎçò Ï£ºÏãùÏñòÍ∏∞Ïù∏Îç∞, Î≠êÍ∞Ä Ïú†Î†•ÌïòÎã§Îäî Í±∏Íπå?\nÍ∑ºÎç∞ ÏïÑÍπå ÎÜçÎã¥ÎèÑ Î™ª Î∞õÏïÑÎìúÎ†∏ÎäîÎç∞.. Îì§Ïñ¥Î≥ºÍπå?`,
            choices: [
                { text: '1. ÏïÑÎÉê. Í∑∏ÎûòÎèÑ Ï†ÅÎãπÌûà ÎÅäÏûê.', next: 'scene2_1' },
                { text: '2. Ïã¨Ïã¨Ìï¥ ÌïòÏãúÎäî Í≤É Í∞ôÏùÄÎç∞ Îì§Ïñ¥ÎìúÎ¶¥Íπå?', next: 'scene2_2' }
            ]
        },
        'scene2_1': {
            title: 'Ïû•Î©¥ 2-1',
            text: `"Î≥¥Ìò∏ÏÇ¨Îãò Í∑ºÎç∞ ÏÉ§ÏõåÏû• Ïó¨ÏÖ®Ïñ¥Ïöî?"\n\n"ÏïÑÏù¥Ïø†, Í∑∏Í±∏ ÍπúÎπ°ÌñàÎÑ§. Ìï≥Ìï≥. üòé"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏù¥ Ìô©Í∏âÌûà ÏÉ§ÏõåÏû•ÏúºÎ°ú Ìñ•ÌïúÎã§.üèÉ‚Äç‚ôÇÔ∏è`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 3ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene3' }]
        },
        'scene2_2': {
            title: 'Ïû•Î©¥ 2-2',
            text: `"Î¨¥Ïä® ÏùºÏù∏Îç∞Ïöî?"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùò ÎààÎπõÏù¥ Î≤àÎú©ÏòÄÎã§.ü§©\n\n"Ïù¥Í≤å 2ÏÉÅÏóêÏÑú Í±∞Î∂ÄÎ∞òÏùëÏù¥ Ï†ÅÏñ¥ÏÑú 3ÏÉÅÏúºÎ°ú Í∞îÎäîÎç∞, Ïù¥Í≤å ÏÇ¨Ïã§ ÏΩîÎ°úÎÇò ÏπòÎ£åÏ†úÎ•º Í∏∞Î∞òÏúºÎ°ú ÌïúÍ±∞Í±∞Îì†Ïöî. Í∑ºÎç∞ ÏΩîÎ°úÎÇòÏóêÏÑú Ïó∞Íµ¨ÌñàÎçò Í≤∞Í≥ºÎ°ú Îã§Î•∏ Î∞îÏù¥Îü¨Ïä§Î•º ÏπòÎ£åÌïúÎã§Îäî Í±∞ÏßÄ. Ïù¥Í≤å ÏßÑÏßú Î¨ºÍ±¥Ïù¥Í±∞Îì†Ïöî. Ïó¨Í∏∞ Îã®ÌÜ°Î∞©ÏóêÎèÑ ÏßÄÍ∏à Îâ¥Ïä§Îßå Ï°∞Ïö©ÌïòÏßÄ Ïò® ÏÑ∏ÏÉÅÏù¥ ÎÇúÎ¶¨Í∞Ä ÎÇ† Îâ¥Ïä§ÏòàÏöî. Í∑ºÎç∞ ÏãùÏïΩÏ≤òÏóêÏÑú ÌóàÍ∞ÄÎ•º ÏïàÌï¥Ï§ò. ÏãùÏïΩÏ≤ò Ïù¥ ÏâêÌÇ§Îì§Ïù¥..! Í∑∏ÎûòÏÑú ÎÇ¥Í∞Ä ÎØºÏõêÏùÑ ÎÑ£ÏóàÍ±∞Îì†Ïöî. ÎãπÏã†Îì§ Î∞∞ÎÇò Î∂àÎ¶¨ÏßÄ ÎßêÍ≥† ÎòëÎ∞îÎ°ú Ïã¨ÏÇ¨Ìï¥Îùº. ÌòÑÎåÄÎ∞îÏù¥Ïò§ Ïã†ÏïΩÏù¥ Ïù¥Ï†ú ÌóàÍ∞ÄÎ•º Î∞õÎäîÍ≤å ÌÉÄÎãπÌïòÎã§...(Ï§ëÎûµ)\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùò Ìà¨Î®∏Ïπò ÌÜ†ÌÅ¨Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 3ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene3' }]
        },
        'scene3': {
            title: 'Ïû•Î©¥ 3',
            text: `Ï†ïÏã†ÏùÑ Îã§Ïû°Í≥† Îã§Ïãú ÏùºÏóê Ïó¥Ï§ëÌïòÎ†§ ÌïòÎäîÎç∞, OÏõêÏå§Ïù¥ ÎÇòÌÉÄÎÇò ÏòÜÏóêÏÑú ÎßêÏùÑ Í±¥Îã§.\n\n"ÏÑ†ÏÉùÎãò, Ï†úÍ∞Ä Ïù¥ÏäπÌòÑÏúºÎ°ú ÏÇºÌñâÏãúÎ•º ÎßåÎì§ÏóàÎäîÎç∞ Îì§Ïñ¥Î≥¥Ïã§ÎûòÏöî?"\n\nÏ†Ä ÏÑ†ÏÉùÎãòÏùÄ Î¨¥Ïä® Î∞ëÎèÑ ÎÅùÎèÑ ÏóÜÎäî ÏñòÍ∏∞Î•º ÌïòÎäîÍ±∏Íπå.\nÏïà Îì£ÎäîÎã§Í≥† ÌïòÎ©¥ ÏÉÅÏ≤òÎ∞õÍ≤†ÏßÄ..?`,
            choices: [
                { text: '1. Îì§Ïñ¥Î≥∏Îã§Í≥† ÌïúÎã§.', next: 'scene3_1' },
                { text: '2. Í±∞Ï†àÌïúÎã§.', next: 'scene3_2' }
            ]
        },
        'scene3_1': {
            title: 'Ïû•Î©¥ 3-1',
            text: `Ïù¥ : Ïù¥Ïû¨Î™ÖÏùÄ!\nÏäπ : ÏäπÎ¶¨ÌïúÎã§!\nÌòÑ : ÌòÑÎåÄÎ∞îÏù¥Ïò§ ÌôîÏù¥ÌåÖ!\n\nÏñ¥Ïù¥ÏóÜÏñ¥.üòµ‚Äçüí´\n\nÎßêÍ∞ôÏßÄÎèÑ ÏïäÏùÄ ÏÜåÎ¶¨Î•º Îì§ÏúºÎãà Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 4Î°ú Ìñ•ÌïúÎã§)', next: 'scene4' }]
        },
        'scene3_2': {
            title: 'Ïû•Î©¥ 3-2',
            text: `"ÏïÑ... Î≥ÑÎ°ú Ïïà Îì£Í≥† Ïã∂Ïñ¥Ïöî."\n\n"Ïïó Ï£ÑÏÜ°Ìï©ÎãàÎã§. ü•∫"\n\nOÏõêÏå§ÏùÄ ÏÉÅÏ≤òÎ∞õÏùÄ ÌëúÏ†ïÏúºÎ°ú ÏûêÎ¶¨Î°ú ÎèåÏïÑÍ∞îÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 4Î°ú Ìñ•ÌïúÎã§)', next: 'scene4' }]
        },
        'scene4': {
            title: 'Ïû•Î©¥ 4',
            text: `Ïó¥Ïã¨Ìûà ÏùºÏùÑ ÌïòÍ≥† ÏûàÎäîÎç∞, ÏòÜÏóêÏÑú OÏò§Ïå§Ïù¥ Íµ¨Í∏Ä ÌîÑÏÇ¨Î•º ÌïúÍ∞ÄÎ°≠Í≤å Í≥†Î•¥Í≥† ÏûàÎã§.\n\n"OOÏïº Ïù¥Í±∞ Ïñ¥Îïå? Ïù¥ Ï†ÄÎ®º ÏÖ∞ÌçºÎìú. ÏôÑÏ†Ñ ÎÇòÍ∞ôÏßÄ ÏïäÏïÑ?"\n\nÎßûÎã§Í≥† ÌïòÎ©¥ Ï†ÄÍ±∏Î°ú ÌîÑÏÇ¨Î•º ÌïòÍ≤†ÏßÄ..? Ïñ¥ÎñªÍ≤å Ìï†Íπå?`,
            choices: [
                { text: '1. ÎßûÎã§Í≥† ÌïúÎã§.', next: 'scene4_1' },
                { text: '2. ÏïÑÎãàÎùºÍ≥† ÌïúÎã§.', next: 'scene4_2' }
            ]
        },
        'scene4_1': {
            title: 'Ïû•Î©¥ 4-1',
            text: `"Îßû.. Îäî Í≤É Í∞ôÏïÑ. ÌïòÌïò."\n\n"ÎßûÏßÄ? ÌÅ¨Ïúº... Ïó≠‚ÜóÏãú‚Üò ÎÇòÎäî Ïù¥Îü∞ ÎäêÎÇåÏù¥ÎùºÎãàÍπå."\n\nÎÑàÎ¨¥ ÏûêÏã†Í∞ê ÎÑòÏπòÎäî Î™®ÏäµÏóê Ïñ¥Ïù¥Í∞Ä ÏóÜÏñ¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 5Î°ú Ìñ•ÌïúÎã§)', next: 'scene5' }]
        },
        'scene4_2': {
            title: 'Ïû•Î©¥ 4-2',
            text: `"Ïûò Î™®Î•¥Í≤†ÎäîÎç∞?"\n\n"Í∑∏Îûò? Ïó≠Ïãú Ï¢Ä Í∑∏Îü∞Í∞Ä?"\n\nOÏò§Ïå§ÏùÄ ÏùòÍ∏∞ÏÜåÏπ®Ìï¥Ï†∏ÏÑ† Íµ¨Í∏Ä Ï∞ΩÏùÑ Îã´ÎäîÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 5Î°ú Ìñ•ÌïúÎã§.)', next: 'scene5' }]
        },
        'scene5': {
            title: 'Ïû•Î©¥ 5',
            text: `Ïä§ÌÖåÏù¥ÏÖòÏóê ÏïâÏïÑ Ï∞®ÌåÖÏùÑ ÎÑ£Í≥† ÏûàÎäîÎç∞,\nÍ≥†Îì±ÌïôÏÉù ÌôòÏûêÍ∞Ä Ïä§ÌÖåÏù¥ÏÖòÏúºÎ°ú ÎÇòÏôîÎã§.\n\n"ÏÑ†ÏÉùÎãò. ÌòπÏãú Ïïº‚öæÍµ¨ Î≥¥ÏÑ∏Ïöî?"\n\nÏïºÍµ¨Îäî Ïûò Î™®Î•¥ÎäîÎç∞.. Í¥ÄÏã¨ÎèÑ Î≥ÑÎ°ú ÏóÜÏñ¥!\nÏñ¥ÎñªÍ≤å ÎèåÎ†§Î≥¥ÎÇºÍπå? \n\nÎèÑÏôÄÏ§Ñ ÏÇ¨ÎûåÏù¥ ÏûàÏùÑÍπå Í≥†Í∞úÎ•º ÎèåÎ†§Î≥∏Îã§.`,
            choices: [
                { text: '1. ÏµúOÌò∏ Î≥¥Ìò∏ÏÇ¨ÎãòÏùÑ Ï≥êÎã§Î≥∏Îã§.', next: 'scene5_1' },
                { text: '2. ÏûÑOÎ≤î ÏÑ†ÏÉùÎãòÏùÑ Ï≥êÎã§Î≥∏Îã§.', next: 'scene5_2' }
            ]
        },
        'scene5_1': {
            title: 'Ïû•Î©¥ 5-1',
            text: `Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ ÎÇòÏùò ÎààÎπõÏùÑ Î∞õÏûê \n\nÎ¨¥Ïä® ÎúªÏù∏ÏßÄ Î∞îÎ°ú ÏïåÏïÑÎì£Í≥†Îäî ÌïôÏÉùÎì§ÏóêÍ≤å ÎßêÌïúÎã§.\n\n"Ïñ¥Ïú†, ÏßÄÍ∏à Î∞îÏÅòÎãàÍªò~ Ï¢Ä Îì§Ïñ¥Í∞ÄÏÖî~"\n\n"ÎÑ§~"\n\nÌïôÏÉùÏùÄ Íµ∞Îßê ÏóÜÏù¥ Î≥ëÏã§Î°ú ÎèåÏïÑÍ∞îÎã§.\n\nÏó≠Ïãú Î≥¥Ìò∏ÏÇ¨ÎãòÏù¥Ïïº!\nÎçïÎ∂ÑÏóê Ïñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïòÏñ¥.üòä\n(Ï†ïÏã†Î†•Ïù¥ 1 ÌöåÎ≥µ ÎêòÏóàÎã§.)`,
            mentalChange: 1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 6ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene6' }]
        },
        'scene5_2': {
            title: 'Ïû•Î©¥ 5-2',
            text: `OÎ≤îÏå§ÏùÄ ÎÇ¥ ÎààÎπõÏùò ÏùòÎèÑÎäî Ï†ÑÌòÄ ÏïåÏßÄ Î™ªÌïúÏ±Ñ\nÏïºÍµ¨ ÏñòÍ∏∞Ïóê ÎààÎπõÏù¥ Î∞òÏßùÏù∏Îã§.\n\n"Ïïº‚öæÍµ¨Îäî ÎãπÍ∑º Î°ØÎç∞Îπ†Îî∞ÏßÄ~"\n"Ïò§ Ïå§ Ï†ÄÎèÑ Î°ØÎç∞ Ìå¨Ïù∏Îç∞"\n"Ï£ºÌòïÍ¥ëÏΩîÏπò Ïù¥Î≤àÏóê Ïù¥Ï†ÅÌïòÎäîÍ±∞ ÏïÑÏÑ∏Ïöî?ü§∑\nÍ∑∏Îü¨Î©¥ Î°ØÎç∞ Ìèº Îñ®Ïñ¥ÏßàÌÖêÎç∞. Ìï≥Ìï≥.üèè"\n"Î°ØÎç∞Îäî ÏßÑÏßú Î™ªÌï† ÎïåÎèÑ Î°ØÎç∞Í≥† ÏûòÌï† ÎïåÎèÑ Î°ØÎç∞Îã§~"\n"ÌÅ¨Ïúº~ ÎßûÏßÄ ÏïºÍµ¨ Ï¢Ä ÏπòÎÑ§Ïöî ÏÑ†ÏÉùÎãò~"\n"ÏöîÏ¶ò ÌïúÎèôÌù¨üß¢ Ìèº ÎØ∏Ï≥§ÏßÄ ÏïäÏïÑÏöî?"\n‚ÄúÎ≤îÌÉÄÏó¨ÎèÑ ÎÇ¥Ïö©ÏùÄ ÎÇòÏÅòÏßÄ ÏïäÏßÄ~ü§∏‚Äù\n"ÏõêÎûò Ìèº Ï¢ãÏùÑÎïå ÎØøÏúºÎ©¥ ÏïàÎêúÎã§ü§∏‚Äç‚ôÇÔ∏è"\n"Ìï≥Ìï≥Ìï≥Ìï≥!ü§∏‚Äç‚ôÄÔ∏èü§æüèÉ‚Äç‚û°Ô∏è"\n...\n...\n\nÎÅùÏóÜÏù¥ Ïù¥Ïñ¥ÏßÄÎäî ÏïºÍµ¨ÌÜ†ÌÅ¨Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 6ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene6' }]
        },
        'scene6': {
            title: 'Ïû•Î©¥ 6',
            text: `Ïò§Ï†ÑÏùºÏùÑ Í≤®Ïö∞ ÎßàÎ¨¥Î¶¨ÌïòÍ≥† Ï†êÏã¨ÏùÑ Î®πÏúºÎü¨ ÎÇ¥Î†§ÏôîÎã§.\n\n"ÌäπÎ≥Ñ.. Î©îÎâ¥?üò®"\n\n"Ïò§ÎäòÏùÄ Îëò Îã§ ÌäπÎ≥Ñ Î©îÎâ¥ÏûÖÎãàÎã§?"\n\nÏã¨ÏÉÅÏπò ÏïäÏùÄ ÎäêÎÇåÏù¥ Îì†Îã§. Î¨¥Ïä® Î©îÎâ¥Î•º Î®πÏùÑÍπå?`,
            choices: [
                { text: '1. ÌïúÏãù ÏöîÎ¶¨(ÎëêÎ∞òÏû•ÌùëÏûÑÏûêÏó∞Í∑ºÏÉêÎü¨ÎìúÎçÆÎ∞•)üçõü•óüç±', next: 'scene6_1' },
                { text: '2. ÏùºÌíà ÏöîÎ¶¨(ÏåàÏû•ÎìúÎ†àÏã±Ï∑®ÎÇòÎ¨ºÌÅ¨Î¶ºÌÜ†Ïä§Ìä∏)ü´òüåøüçû', next: 'scene6_2' }
            ]
        },
        'scene6_1': {
            title: 'Ïû•Î©¥ 6-1',
            text: `Í∑∏Î†áÍ≤å Î∞õÏïÑÏò® ÎëêÎ∞òÏû•ÌùëÏûÑÏûêÏó∞Í∑ºÏÉêÎü¨ÎìúÎçÆÎ∞•ÏùÑ ÏãùÌÉÅÏóê ÎÇ¥Î†§ÎÜìÎäîÎã§.\n\n"ÏïÑ.. Î≥¥Í∏∞Îßå Ìï¥ÎèÑ Í±±Ï†ïÎêúÎã§."\n\nÎëêÎ†§ÏõÄÏóê Îñ®Î©∞ Ìïú Ïä§Ìëº ÏûÖÏóê ÎÑ£ÎäîÎã§.üò∞\n\n"ÎßõÏûàÏûñÏïÑ?"\n\nÏÉùÍ∞ÅÎ≥¥Îã§ Í∞êÏπ†ÎßõÏù¥ Ï†àÎ¨òÌïòÎã§!üòå\n(Ï†ïÏã†Î†•Ïù¥ 1 ÌöåÎ≥µ ÎêòÏóàÎã§.)`,
            mentalChange: 1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 7Î°ú Ìñ•ÌïúÎã§)', next: 'scene7' }]
        },
        'scene6_2': {
            title: 'Ïû•Î©¥ 6-2',
            text: `Í∑∏Î†áÍ≤å Î∞õÏïÑÏò® ÏåàÏû•ÎìúÎ†àÏã±Ï∑®ÎÇòÎ¨ºÌÅ¨Î¶ºÌÜ†Ïä§Ìä∏Î•º ÏãùÌÉÅÏóê ÎÇ¥Î†§ÎÜìÎäîÎã§.\n\n"ÏïÑ.. Î≥¥Í∏∞Îßå Ìï¥ÎèÑ Í±±Ï†ïÎêúÎã§."\n\nÎëêÎ†§ÏõÄÏóê Îñ®Î©∞ Ìïú Ïä§Ìëº ÏûÖÏóê ÎÑ£ÎäîÎã§.üò∞\n\n"Ïö∞Ïõ©!"\n\nÏåàÏû•Í≥º Ï†ÑÌòÄ ÎßûÏßÄ ÏïäÎäî ÌÜ†Ïä§Ìä∏Ïùò Î≤ÑÌÑ∞Ìñ•Í∏∞Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 7Î°ú Ìñ•ÌïúÎã§)', next: 'scene7' }]
        },
        'scene7': {
            title: 'Ïû•Î©¥ 7',
            text: `"Îã§ÎÖÄÏôîÏäµÎãàÎã§~"\nÏßßÏùÄ Ïù∏ÏÇ¨Î•º ÌïòÍ≥† ÏûêÎ¶¨Ïóê ÏïâÎäîÎã§.\nÎã§Ïãú ÏùºÌï† Ï§ÄÎπÑÎ•º ÌïòÎ†§ÎäîÎç∞, Ïä§ÌÖåÏù¥ÏÖò ÏïûÏúºÎ°ú Î≥¥Ìò∏ÏÇ¨ÎãòüëìÏù¥ ÎÇòÌÉÄÎÇúÎã§.\n\n"ÏïÑ-Ìïòüéµ-üé∂"\nÎòêÎã§Ïãú Î∂àÍ∏∏Ìïú ÌåîÎèôÏûëÏùÑ ÌïòÎ©∞ Í±∏Ïñ¥Ïò§Ïã†Îã§.\n"Ïù¥Î≤àÏóêÎäî, üêôÏ≠àüêôÍæ∏üêôÎØ∏üêô Î®πÏúºÎü¨ Í∞ëÏãúÎã§!üéµ"\n\nÏù¥Î≤àÏóêÎäî Îòê Î¨¥Ïä® ÎßêÏîÄÏùÑ ÌïòÏãúÎ†§Îäî Í±∏Íπå..\nÎòê Ïù¥ÏÉÅÌïú Ïû•ÎÇúÏùÑ ÏπòÎ†§Îäî Í±∏Íπå?`,
            choices: [
                { text: '1. Ïû•ÎÇú Ï¢Ä Í∑∏Îßå ÌïòÏãúÎùºÍ≥† ÌïúÎã§.', next: 'scene7_1' },
                { text: '2. Ï¢ãÎã§Í≥† ÌïúÎã§.', next: 'scene7_2' }
            ]
        },
        'scene7_1': {
            title: 'Ïû•Î©¥ 7-1',
            text: `"Î≥¥Ìò∏ÏÇ¨Îãò, Ïû•ÎÇú Ï¢Ä Í∑∏Îßå ÌïòÏÑ∏Ïöî.. Îòê Î©îÎâ¥Í∞ÄÏßÄÍ≥† Í∑∏Îü¨ÏãúÎäî Í±∞ÏòàÏöî?"\n\nÎëê Î≤àÏùÄ ÎÑàÎ¨¥ Ïã¨ÌñàÏßÄ. ÎÇòÎèÑ Ìïú ÎßàÎîî ÌïúÎã§.üí¢\n\n"ÏïÑ.. ÎÇòÎäî ÏßÄÍ∏àÍπåÏßÄ Í∞ôÏù¥ ÏùºÌïúÍ≤å Í≥†ÎßàÏõåÏÑú..\nÏù¥Î≤àÏóêÎäî Ï†úÎåÄÎ°ú ÏÇ¨Î†§Í≥† ÌóÄÎçò Í±¥Îç∞..\nÏã´ÏúºÎ©¥ ÎßêÏñ¥Ïöî..ü•≤"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Ïö∞Ïö∏Ìï¥Ï†∏ÏÑ† ÏûêÎ¶¨Ïóê Ï∂îÏö± ÎäòÏñ¥Ï°åÎã§.\n\nÏïÑ.. ÏßÑÏã¨ÏúºÎ°ú ÏÇ¨Î†§Í≥† ÌïòÏã† Í±∞ÏòÄÍµ¨ÎÇò. \n\nÍ∞ëÏûëÏä§Îü∞ Ïã§ÏàòÏóê Ï£ÑÏ±ÖÍ∞êÏù¥ Î™∞Î†§Ïò®Îã§.üò≠\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 8Î°ú Ìñ•ÌïúÎã§)', next: 'scene8' }]
        },
        'scene7_2': {
            title: 'Ïû•Î©¥ 7-2',
            text: `"Ïñ¥ Ï†ÄÎäî Ï°∞.."\n"Ï†úÍ∞Ä Ï¢ãÏïÑÏöî Î≥¥Ìò∏ÏÇ¨Îãò! Ï†ÄÎûë Í∞ÄÏöî~"\n\nÏñ¥ÎäêÏÉåÍ∞Ä ÎÇòÌÉÄÎÇú OÎ≤î Ïå§Ïù¥ Î≥¥Ìò∏ÏÇ¨ÎãòÏóêÍ≤å ÌùîÏæåÌûà Î∞òÏùëÌïúÎã§.\n\n"Ï†úÍ∞Ä Îòê Ï≠àÍæ∏ÎØ∏ ÌïòÎ©¥ ÎßõÏßë ÎÑ§ÎπÑÍ≤åÏù¥ÏÖòÏù¥Ï£†~"\n"ÏïÑÏú†. ÎÇòÏïº Ï¢ãÏßÄ. Ïñ∏Ï†ú Ï≠àÍæ∏ÎØ∏ÎÇò ÏÇ¨Ï§ÑÍ≤åÏöî."\n\nÌôîÍ∏∞Ïï†Ïï†Ìïú Î∂ÑÏúÑÍ∏∞Ïóê ÎÇòÎäî ÏûêÏó∞Ïä§ÎüΩÍ≤å ÎÑòÏñ¥Í∞îÎã§.`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 8Î°ú Ìñ•ÌïúÎã§)', next: 'scene8' }]
        },
        'scene8': {
            title: 'Ïû•Î©¥ 8',
            text: `ÏïÑÏßÅ Í∞úÎ∞úÏ§ëÏûÖÎãàÎã§. Í∞êÏÇ¨Ìï©ÎãàÎã§.`,
            choices: [{ text: '1. Ï≤òÏùåÏúºÎ°ú ÎèåÏïÑÍ∞ÑÎã§(Ïù∏Ìä∏Î°úÎ°ú Ìñ•ÌïúÎã§)', next: 'intro', reset: true }]
        },
        'gameover': {
            title: 'Ìå®Î∞∞',
            text: `Ï†ïÏã†Î†•Ïù¥ Î™®Îëê ÏÜåÏßÑÎêòÏóàÏäµÎãàÎã§...\n90Î≥ëÎèôÏùò ÌòºÎûÄ ÏÜçÏóêÏÑú Î≤ÑÌÖ®ÎÇ¥ÏßÄ Î™ªÌñàÏäµÎãàÎã§.\n\n"ÏÑ†ÏÉùÎãò..? ÏÑ†ÏÉùÎãò!! Ï†ïÏã† Ï∞®Î¶¨ÏÑ∏Ïöî!"`,
            choices: [{ text: 'Îã§Ïãú ÎèÑÏ†ÑÌïòÍ∏∞', next: 'intro', reset: true }]
        }
    };

    let currentMental = 3;
    let isTyping = false;
    const textDisplay = document.getElementById('textDisplay');
    const choiceContainer = document.getElementById('choiceContainer');
    const mentalIcons = document.getElementById('mentalIcons');

    function updateMentalDisplay() {
        mentalIcons.innerHTML = 'üß†'.repeat(Math.max(0, currentMental));
    }

    async function typeText(element, text) {
        isTyping = true;
        element.classList.add('typing-cursor');
        let i = 0;
        const speed = 20;

        return new Promise(resolve => {
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    textDisplay.scrollTop = textDisplay.scrollHeight;
                    setTimeout(type, speed);
                } else {
                    element.classList.remove('typing-cursor');
                    isTyping = false;
                    resolve();
                }
            }
            type();
        });
    }

    async function loadScene(sceneId) {
        const scene = gameData[sceneId];
        if (!scene) return;

        textDisplay.innerHTML = '';
        choiceContainer.innerHTML = '';

        const titleSpan = document.createElement('span');
        titleSpan.className = 'scene-title';
        titleSpan.innerText = scene.title;
        textDisplay.appendChild(titleSpan);

        if (scene.mentalChange) {
            currentMental += scene.mentalChange;
            if (currentMental > 3) currentMental = 3;
            updateMentalDisplay();
        }

        const dialogueDiv = document.createElement('div');
        dialogueDiv.className = 'dialogue-text';
        textDisplay.appendChild(dialogueDiv);
        
        await typeText(dialogueDiv, scene.text);

        if (currentMental <= 0 && sceneId !== 'gameover') {
            setTimeout(() => loadScene('gameover'), 800);
            return;
        }

        scene.choices.forEach((choice, index) => {
            const btn = document.createElement('button');
            btn.className = 'choice-btn';
            btn.style.animationDelay = `${index * 0.1}s`;
            btn.innerText = choice.text;
            btn.onclick = () => {
                if (isTyping) return;
                if (choice.reset) {
                    currentMental = 3;
                    updateMentalDisplay();
                }
                loadScene(choice.next);
            };
            choiceContainer.appendChild(btn);
        });
    }

    window.onload = () => {
        updateMentalDisplay();
        loadScene('intro');
    };
</script>

</body>
</html>
