<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>90Î≥ëÎèô ÌÖçÏä§Ìä∏ Ïñ¥ÎìúÎ≤§Ï≤ò</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0f172a;
            --card-color: #1e293b;
            --accent-color: #334155;
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Pretendard', sans-serif;
            overflow: hidden;
        }

        .game-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100vh;
            height: 100dvh; 
        }

        .game-container {
            width: 100%;
            max-width: 500px;
            height: 100%;
            background: var(--card-color);
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .header {
            flex-shrink: 0;
            padding: env(safe-area-inset-top, 1rem) 1.5rem 1rem 1.5rem;
            background: rgba(15, 23, 42, 0.95);
            border-bottom: 1px solid var(--accent-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 20;
        }

        .mental-icons {
            font-size: 1.25rem;
            letter-spacing: 0.1rem;
        }

        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
        }

        .image-box {
            width: 100%;
            border-radius: 1rem;
            overflow: hidden;
            margin-bottom: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
            flex-shrink: 0;
            display: none;
            background: #000;
        }

        .image-box img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* ÏÑ†ÌÉùÏßÄ Ïª®ÌÖåÏù¥ÎÑà Ïä§ÌÉÄÏùº ÏàòÏ†ï: Ïä§ÌÅ¨Î°§ ÏòÅÏó≠ ÎÇ¥Î∂ÄÎ°ú Ìè¨Ìï® */
        #choiceContainer {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            padding-bottom: 3rem; /* ÌïòÎã® Ïó¨Î∞± ÌôïÎ≥¥ */
        }

        .choice-btn {
            width: 100%;
            background: var(--accent-color);
            border: 1px solid #475569;
            padding: 1.1rem;
            border-radius: 0.85rem;
            text-align: left;
            font-size: 1rem;
            color: var(--text-main);
            transition: all 0.2s;
            animation: slideUp 0.5s ease-out forwards;
            opacity: 0;
            line-height: 1.4;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .choice-btn:active {
            transform: scale(0.98);
            background: #475569;
        }

        .scene-label {
            font-size: 0.75rem;
            color: var(--text-dim);
            font-weight: 800;
            letter-spacing: 0.1em;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
        }

        .dialogue {
            line-height: 1.85;
            font-size: 1.05rem;
            white-space: pre-wrap;
            word-break: keep-all;
        }

        .typing-cursor::after {
            content: '‚ñä';
            display: inline-block;
            margin-left: 2px;
            animation: blink 0.8s infinite;
        }

        @keyframes blink { 50% { opacity: 0; } }
        .main-content::-webkit-scrollbar { width: 4px; }
        .main-content::-webkit-scrollbar-thumb { background: var(--accent-color); border-radius: 10px; }
    </style>
</head>
<body>

<div class="game-wrapper">
    <div class="game-container">
        <header class="header">
            <span class="text-xs font-bold text-slate-400 tracking-widest uppercase">Mental Health</span>
            <div id="mentalIcons" class="mental-icons"></div>
        </header>
        
        <main class="main-content" id="mainContent">
            <div id="imageArea" class="image-box">
                <img id="sceneImage" src="" alt="Scene Image">
            </div>
            <div id="textDisplay"></div>
            <div id="choiceContainer"></div>
        </main>
    </div>
</div>

<script>
    const gameData = {
        'intro': {
            title: 'INTRO',
            image: 'https://github.com/caxs23/90W-survival/blob/main/90w.jpg?raw=true', 
            text: `ÏÑ∏ÏÉÅÏóî Ïù¥Ìï¥Ìï† Ïàò ÏóÜÎäî ÏÇ¨ÎûåÎì§Ïù¥ Ï∞∏ ÎßéÏùÄ Í≤É Í∞ôÎã§.\nÍ∞ÄÏû• Ïä¨Ìîà Í±¥, ÎÇ¥Í∞Ä ÏùºÌïòÎäî 90Î≥ëÎèôÏóê Ï†úÏùº ÎßéÎã§Îäî Í±∞Îã§.\nÏò§ÎäòÎèÑ Ïù¥ÏÉÅÌïú ÎßêÎì§ÏùÑ Î¨¥ÏÇ¨Ìûà ÌùòÎ†§Î≥¥ÎÇ¥Í≥† Ìá¥Í∑ºÌï† Ïàò ÏûàÏùÑÍπå?`,
            choices: [{ text: '1. Î≥ëÎèôÏúºÎ°ú Ï∂úÍ∑ºÌïúÎã§.', next: 'scene1' }]
        },
        'scene1': {
            title: 'Ïû•Î©¥ 1',
            image: 'https://github.com/caxs23/90W-survival/blob/main/2.jpg?raw=true', 
            text: `"ÏïàÎÖïÌïòÏÑ∏Ïöî~"\nÏßßÏùÄ Ïù∏ÏÇ¨Î•º ÌïòÍ≥† ÏûêÎ¶¨Ïóê ÏïâÎäîÎã§.\nÏù∏Í≥ÑÎ•º Î∞îÏÇê ÎßàÏπòÍ≥† ÏïÑÏπ®ÏïΩÏùÑ Î≥¥Î†§ÎäîÎç∞, Ïä§ÌÖåÏù¥ÏÖò ÏïûÏúºÎ°ú Î≥¥Ìò∏ÏÇ¨ÎãòüëìÏù¥ ÎÇòÌÉÄÎÇúÎã§.\n\n"ÏïÑ-Ìïòüéµ"\nÎ∂àÍ∏∏Ìïú ÌåîÎèôÏûëÏùÑ ÌïòÎ©∞ Í±∏Ïñ¥Ïò§Ïã†Îã§.\n"Ï∞∏üêüÏπò Î®πÏúºÎü¨ Í∞ëÏãúÎã§!üéµ"\n\nÎèÑÎåÄÏ≤¥ Î¨¥Ïä® ÎßêÏîÄÏùÑ ÌïòÏãúÎ†§Îäî Í±∏Íπå..\nÏ∞∏Ïπò ÌöåÎ•º ÎßêÏîÄÌïòÏãúÎäî Í±∏Íπå. ÏãùÏÇ¨ ÏïΩÏÜçÏùÑ Ïû°ÏúºÏãúÎ†§Îäî Í±∏Íπå.`,
            choices: [
                { text: '1. Ïù¥ÏïºÍ∏∞Î•º Îì§Ïñ¥Î≥∏Îã§.', next: 'scene1_1' },
                { text: '2. Ï†ÅÎãπÌûà ÎëòÎü¨ÎåÑÎã§.', next: 'scene1_2' }
            ]
        },
        'scene1_1': {
            title: 'Ïû•Î©¥ 1 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/3.jpg?raw=true', 
            text: `"Ï∞∏ÏπòÏöî~? Í∞ëÏûêÍ∏∞ Ïô† Ï∞∏ÏπòÏòàÏöî?"\n\n"Ïò§Îäò Ï†êÏã¨Ïù¥! Ï∞∏ÏπòÎßàÏöî ÎçÆÎ∞•Ïù¥ÏòàÏöî! Ìï≥Ìï≥Ìï≥! üòé"\n\n'Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Ïôú Ï†ÄÎü∞ ÎÜçÎã¥ÏùÑ ÌïòÏã§Íπå..'\n\nÎÑàÎ¨¥ Ïñ¥Ïù¥ÏóÜÎäî ÎÜçÎã¥Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥ÏßÑÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 2Î°ú Ìñ•ÌïúÎã§.)', next: 'scene2' }]
        },
        'scene1_2': {
            title: 'Ïû•Î©¥ 1 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `"Ï†úÍ∞Ä Ï∞∏ÏπòÎ•º Î™ª Î®πÏñ¥Ïöî Î≥¥Ìò∏ÏÇ¨Îãò."\n\n"ÏïÑ, Í∑∏ÎûòÏöî? Ï†êÏã¨ Î©îÎâ¥Í∞Ä ÎÇòÏôÄÏÑú Í∑∏Îü∞Í±¥Îç∞.."\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Î©ãÏ©çÍ≤å ÏûêÎ¶¨Î°ú ÎèåÏïÑÍ∞îÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 2Î°ú Ìñ•ÌïúÎã§.)', next: 'scene2' }]
        },
        'scene2': {
            title: 'Ïû•Î©¥ 2',
            image: 'https://github.com/caxs23/90W-survival/blob/main/3.jpg?raw=true', 
            text: `ÏûêÎ¶¨Ïóê ÏïâÏïÑÏûàÎçò Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ, BÌåÄ ÏÑ†ÏÉùÎãòÏù¥ ÏûêÎ¶¨Î•º ÎπÑÏö¥ ÏÇ¨Ïù¥ Ïª¥Ìì®ÌÑ∞Ïóê ÏïâÏïòÎã§.\n\n"Ïù¥Î≤àÏóêÏöî, ÌòÑÎåÄÎ∞îÏù¥Ïò§ÏóêÏÑú 3ÏÉÅÏóê Îì§Ïñ¥Í∞ÑÍ≤å ÏûàÎäîÎç∞, Ïù¥Î≤àÏóêÎäî Í∏¥Í∏âÏÇ¨Ïö©ÏäπÏù∏Ïù¥ ÏßÑÏßú Ïú†Î†•ÌïòÍ±∞Îì†Ïöî. Í∑ºÎç∞ Î¨∏Ï†úÍ∞Ä ÏûàÏñ¥."\n\nÎäò ÌïòÏãúÎçò Ï£ºÏãùÏñòÍ∏∞Ïù∏Îç∞, Î≠êÍ∞Ä Ïú†Î†•ÌïòÎã§Îäî Í±∏Íπå?\nÍ∑ºÎç∞ ÏïÑÍπå ÎÜçÎã¥ÎèÑ Î™ª Î∞õÏïÑÎìúÎ†∏ÎäîÎç∞.. Îì§Ïñ¥Î≥ºÍπå?`,
            choices: [
                { text: '1. ÏïÑÎÉê. Í∑∏ÎûòÎèÑ Ï†ÅÎãπÌûà ÎÅäÏûê.', next: 'scene2_1' },
                { text: '2. Ïã¨Ïã¨Ìï¥ ÌïòÏãúÎäî Í≤É Í∞ôÏùÄÎç∞ Îì§Ïñ¥ÎìúÎ¶¥Íπå?', next: 'scene2_2' }
            ]
        },
        'scene2_1': {
            title: 'Ïû•Î©¥ 2 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `"Î≥¥Ìò∏ÏÇ¨Îãò Í∑ºÎç∞ ÏÉ§ÏõåÏû• Ïó¨ÏÖ®Ïñ¥Ïöî?"\n\n"ÏïÑÏù¥Ïø†, Í∑∏Í±∏ ÍπúÎπ°ÌñàÎÑ§. Ìï≥Ìï≥. üòé"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏù¥ Ìô©Í∏âÌûà ÏÉ§ÏõåÏû•ÏúºÎ°ú Ìñ•ÌïúÎã§.üèÉ‚Äç‚ôÇÔ∏è`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 3ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene3' }]
        },
        'scene2_2': {
            title: 'Ïû•Î©¥ 2 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/14.jpg?raw=true', 
            text: `"Î¨¥Ïä® ÏùºÏù∏Îç∞Ïöî?"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùò ÎààÎπõÏù¥ Î≤àÎú©ÏòÄÎã§.ü§©\n\n"Ïù¥Í≤å 2ÏÉÅÏóêÏÑú Í±∞Î∂ÄÎ∞òÏùëÏù¥ Ï†ÅÏñ¥ÏÑú 3ÏÉÅÏúºÎ°ú Í∞îÎäîÎç∞, Ïù¥Í≤å ÏÇ¨Ïã§ ÏΩîÎ°úÎÇò ÏπòÎ£åÏ†úÎ•º Í∏∞Î∞òÏúºÎ°ú ÌïúÍ±∞Í±∞Îì†Ïöî. Í∑ºÎç∞ ÏΩîÎ°úÎÇòÏóêÏÑú Ïó∞Íµ¨ÌñàÎçò Í≤∞Í≥ºÎ°ú Îã§Î•∏ Î∞îÏù¥Îü¨Ïä§Î•º ÏπòÎ£åÌïúÎã§Îäî Í±∞ÏßÄ. Ïù¥Í≤å ÏßÑÏßú Î¨ºÍ±¥Ïù¥Í±∞Îì†Ïöî. Ïó¨Í∏∞ Îã®ÌÜ°Î∞©ÏóêÎèÑ ÏßÄÍ∏à Îâ¥Ïä§Îßå Ï°∞Ïö©ÌïòÏßÄ Ïò® ÏÑ∏ÏÉÅÏù¥ ÎÇúÎ¶¨Í∞Ä ÎÇ† Îâ¥Ïä§ÏòàÏöî. Í∑ºÎç∞ ÏãùÏïΩÏ≤òÏóêÏÑú ÌóàÍ∞ÄÎ•º ÏïàÌï¥Ï§ò. ÏãùÏïΩÏ≤ò Ïù¥ ÏâêÌÇ§Îì§Ïù¥..! Ïù¥Í≤å Îπ®Î¶¨ Í∏¥Í∏â ÏÇ¨Ïö© ÏäπÏù∏Ïù¥ ÎÇòÏïºÌï¥ÏÑú ÎØºÏõêÏùÑ ÎÑ£ÏóàÍ±∞Îì†Ïöî. ÎãπÏã†Îì§ Î∞∞ÎÇò Î∂àÎ¶¨ÏßÄ ÎßêÍ≥† ÎòëÎ∞îÎ°ú Ïã¨ÏÇ¨Ìï¥Îùº. ÌòÑÎåÄÎ∞îÏù¥Ïò§ Ïã†ÏïΩÏù¥ Ïù¥Ï†ú ÌóàÍ∞ÄÎ•º Î∞õÎäîÍ≤å ÌÉÄÎãπÌïòÎã§...(Ï§ëÎûµ)\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùò Ìà¨Î®∏Ïπò ÌÜ†ÌÅ¨Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 3ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene3' }]
        },
        'scene3': {
            title: 'Ïû•Î©¥ 3',
            image: 'https://github.com/caxs23/90W-survival/blob/main/12.jpg?raw=true', 
            text: `Ï†ïÏã†ÏùÑ Îã§Ïû°Í≥† Îã§Ïãú ÏùºÏóê Ïó¥Ï§ëÌïòÎ†§ ÌïòÎäîÎç∞, OÏõêÏå§Ïù¥ ÎÇòÌÉÄÎÇò ÏòÜÏóêÏÑú ÎßêÏùÑ Í±¥Îã§.\n\n"ÏÑ†ÏÉùÎãò, Ï†úÍ∞Ä Ïù¥ÏäπÌòÑÏúºÎ°ú ÏÇºÌñâÏãúÎ•º ÎßåÎì§ÏóàÎäîÎç∞ Îì§Ïñ¥Î≥¥Ïã§ÎûòÏöî?"\n\nÏ†Ä ÏÑ†ÏÉùÎãòÏùÄ Î¨¥Ïä® Î∞ëÎèÑ ÎÅùÎèÑ ÏóÜÎäî ÏñòÍ∏∞Î•º ÌïòÎäîÍ±∏Íπå.\nÏïà Îì£ÎäîÎã§Í≥† ÌïòÎ©¥ ÏÉÅÏ≤òÎ∞õÍ≤†ÏßÄ..?`,
            choices: [
                { text: '1. Îì§Ïñ¥Î≥∏Îã§Í≥† ÌïúÎã§.', next: 'scene3_1' },
                { text: '2. Í±∞Ï†àÌïúÎã§.', next: 'scene3_2' }
            ]
        },
        'scene3_1': {
            title: 'Ïû•Î©¥ 3 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/11.jpg?raw=true', 
            text: `Ïù¥ : Ïù¥Ïû¨Î™ÖÏùÄ!\nÏäπ : ÏäπÎ¶¨ÌïúÎã§!\nÌòÑ : ÌòÑÎåÄÎ∞îÏù¥Ïò§ ÌôîÏù¥ÌåÖ!\n\nÎßêÍ∞ôÏßÄÎèÑ ÏïäÏùÄ ÏÜåÎ¶¨Î•º Îì§ÏúºÎãà Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 4Î°ú Ìñ•ÌïúÎã§)', next: 'scene4' }]
        },
        'scene3_2': {
            title: 'Ïû•Î©¥ 3 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `"ÏïÑ... Î≥ÑÎ°ú Ïïà Îì£Í≥† Ïã∂Ïñ¥Ïöî."\n\n"Ïïó Ï£ÑÏÜ°Ìï©ÎãàÎã§. ü•∫"\n\nOÏõêÏå§ÏùÄ ÏÉÅÏ≤òÎ∞õÏùÄ ÌëúÏ†ïÏúºÎ°ú ÏûêÎ¶¨Î°ú ÎèåÏïÑÍ∞îÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 4Î°ú Ìñ•ÌïúÎã§)', next: 'scene4' }]
        },
        'scene4': {
            title: 'Ïû•Î©¥ 4',
            image: 'https://github.com/caxs23/90W-survival/blob/main/5.jpg?raw=true', 
            text: `Ïó¥Ïã¨Ìûà ÏùºÏùÑ ÌïòÍ≥† ÏûàÎäîÎç∞, ÏòÜÏóêÏÑú OÏò§Ïå§Ïù¥ Íµ¨Í∏Ä ÌîÑÏÇ¨Î•º ÌïúÍ∞ÄÎ°≠Í≤å Í≥†Î•¥Í≥† ÏûàÎã§.\n\n"OOÏïº Ïù¥Í±∞ Ïñ¥Îïå? Ïù¥ Ï†ÄÎ®º ÏÖ∞ÌçºÎìú. ÏôÑÏ†Ñ ÎÇòÍ∞ôÏßÄ ÏïäÏïÑ?"\n\nÎßûÎã§Í≥† ÌïòÎ©¥ Ï†ÄÍ±∏Î°ú ÌîÑÏÇ¨Î•º ÌïòÍ≤†ÏßÄ..? Ïñ¥ÎñªÍ≤å Ìï†Íπå?`,
            choices: [
                { text: '1. ÎßûÎã§Í≥† ÌïúÎã§.', next: 'scene4_1' },
                { text: '2. ÏïÑÎãàÎùºÍ≥† ÌïúÎã§.', next: 'scene4_2' }
            ]
        },
        'scene4_1': {
            title: 'Ïû•Î©¥ 4 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/11.jpg?raw=true', 
            text: `"Îßû.. Îäî Í≤É Í∞ôÏïÑ. ÌïòÌïò."\n\n"ÎßûÏßÄ? ÌÅ¨Ïúº... Ïó≠‚ÜóÏãú‚Üò ÎÇòÎäî Ïù¥Îü∞ ÎäêÎÇåÏù¥ÎùºÎãàÍπå."\n\nÎÑàÎ¨¥ ÏûêÏã†Í∞ê ÎÑòÏπòÎäî Î™®ÏäµÏóê Ïñ¥Ïù¥Í∞Ä ÏóÜÏñ¥Ï°åÎã§.üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 5Î°ú Ìñ•ÌïúÎã§)', next: 'scene5' }]
        },
        'scene4_2': {
            title: 'Ïû•Î©¥ 4 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `"Ïûò Î™®Î•¥Í≤†ÎäîÎç∞?"\n\n"Í∑∏Îûò? Ïó≠Ïãú Ï¢Ä Í∑∏Îü∞Í∞Ä?"\n\nOÏò§Ïå§ÏùÄ ÏùòÍ∏∞ÏÜåÏπ®Ìï¥Ï†∏ÏÑ† Íµ¨Í∏Ä Ï∞ΩÏùÑ Îã´ÎäîÎã§.\nÏñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïÑÏÑú Îã§ÌñâÏù¥Ïïº.üòä`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 5Î°ú Ìñ•ÌïúÎã§.)', next: 'scene5' }]
        },
        'scene5': {
            title: 'Ïû•Î©¥ 5',
            image: 'https://github.com/caxs23/90W-survival/blob/main/6.jpg?raw=true', 
            text: `Ïä§ÌÖåÏù¥ÏÖòÏóê ÏïâÏïÑ Ï∞®ÌåÖÏùÑ ÎÑ£Í≥† ÏûàÎäîÎç∞,\nÍ≥†Îì±ÌïôÏÉù ÌôòÏûêÍ∞Ä Ïä§ÌÖåÏù¥ÏÖòÏúºÎ°ú ÎÇòÏôîÎã§.\n\n"ÏÑ†ÏÉùÎãò. ÌòπÏãú Ïïº‚öæÍµ¨ Î≥¥ÏÑ∏Ïöî?"\n\nÏïºÍµ¨Îäî Ïûò Î™®Î•¥ÎäîÎç∞.. Í¥ÄÏã¨ÎèÑ Î≥ÑÎ°ú ÏóÜÏñ¥!\nÏñ¥ÎñªÍ≤å ÎèåÎ†§Î≥¥ÎÇºÍπå? \n\nÎèÑÏôÄÏ§Ñ ÏÇ¨ÎûåÏù¥ ÏûàÏùÑÍπå Í≥†Í∞úÎ•º ÎèåÎ†§Î≥∏Îã§.`,
            choices: [
                { text: '1. ÏµúOÌò∏ Î≥¥Ìò∏ÏÇ¨ÎãòÏùÑ Ï≥êÎã§Î≥∏Îã§.', next: 'scene5_1' },
                { text: '2. ÏûÑOÎ≤î ÏÑ†ÏÉùÎãòÏùÑ Ï≥êÎã§Î≥∏Îã§.', next: 'scene5_2' }
            ]
        },
        'scene5_1': {
            title: 'Ïû•Î©¥ 5 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `Î≥¥Ìò∏ÏÇ¨ÎãòÏùÄ ÎÇòÏùò ÎààÎπõÏùÑ Î∞õÏûê \n\nÎ¨¥Ïä® ÎúªÏù∏ÏßÄ Î∞îÎ°ú ÏïåÏïÑÎì£Í≥†Îäî ÌïôÏÉùÎì§ÏóêÍ≤å ÎßêÌïúÎã§.\n\n"Ïñ¥Ïú†, ÏßÄÍ∏à Î∞îÏÅòÎãàÍªò~ Ï¢Ä Îì§Ïñ¥Í∞ÄÏÖî~"\n\n"ÎÑ§~"\n\nÌïôÏÉùÏùÄ Íµ∞Îßê ÏóÜÏù¥ Î≥ëÏã§Î°ú ÎèåÏïÑÍ∞îÎã§.\n\nÏó≠Ïãú Î≥¥Ìò∏ÏÇ¨ÎãòÏù¥Ïïº!\nÎçïÎ∂ÑÏóê Ïñ¥Ïù¥ÏóÜÎäî ÎßêÏùÑ Îì£ÏßÄ ÏïäÏïòÏñ¥.üòä\n(Ï†ïÏã†Î†•Ïù¥ 1 ÌöåÎ≥µ ÎêòÏóàÎã§.)`,
            mentalChange: 1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 6ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene6' }]
        },
        'scene5_2': {
            title: 'Ïû•Î©¥ 5 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/11.jpg?raw=true', 
            text: `OÎ≤îÏå§ÏùÄ ÎÇ¥ ÎààÎπõÏùò ÏùòÎèÑÎäî Ï†ÑÌòÄ ÏïåÏßÄ Î™ªÌïúÏ±Ñ\nÏïºÍµ¨ ÏñòÍ∏∞Ïóê ÎààÎπõÏù¥ Î∞òÏßùÏù∏Îã§.\n\n"Ïïº‚öæÍµ¨Îäî ÎãπÍ∑º Î°ØÎç∞Îπ†Îî∞ÏßÄ~"\n"Ïò§ Ïå§ Ï†ÄÎèÑ Î°ØÎç∞ Ìå¨Ïù∏Îç∞"\n"Ï£ºÌòïÍ¥ëÏΩîÏπò Ïù¥Î≤àÏóê Ïù¥Ï†ÅÌïòÎäîÍ±∞ ÏïÑÏÑ∏Ïöî?ü§∑\nÍ∑∏Îü¨Î©¥ Î°ØÎç∞ Ìèº Îñ®Ïñ¥ÏßàÌÖêÎç∞. Ìï≥Ìï≥.üèè"\n"Î°ØÎç∞Îäî ÏßÑÏßú Î™ªÌï† ÎïåÎèÑ Î°ØÎç∞Í≥† ÏûòÌï† ÎïåÎèÑ Î°ØÎç∞Îã§~"\n"ÌÅ¨Ïúº~ ÎßûÏßÄ ÏïºÍµ¨ Ï¢Ä ÏπòÎÑ§Ïöî ÏÑ†ÏÉùÎãò~"\n"ÏöîÏ¶ò ÌïúÎèôÌù¨üß¢ Ìèº ÎØ∏Ï≥§ÏßÄ ÏïäÏïÑÏöî?"\n‚ÄúÎ≤îÌÉÄÏó¨ÎèÑ ÎÇ¥Ïö©ÏùÄ ÎÇòÏÅòÏßÄ ÏïäÏßÄ~ü§∏‚Äù\n"ÏõêÎûò Ìèº Ï¢ãÏùÑÎïå ÎØøÏúºÎ©¥ ÏïàÎêúÎã§ü§∏‚Äç‚ôÇÔ∏è"\n"Ìï≥Ìï≥Ìï≥Ìï≥!ü§∏‚Äç‚ôÄÔ∏èü§æüèÉ‚Äç‚û°Ô∏è"\n...\n...\n\nÎÅùÏóÜÏù¥ Ïù¥Ïñ¥ÏßÄÎäî ÏïºÍµ¨ÌÜ†ÌÅ¨Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 6ÏúºÎ°ú Ìñ•ÌïúÎã§)', next: 'scene6' }]
        },
        'scene6': {
            title: 'Ïû•Î©¥ 6',
            image: 'https://github.com/caxs23/90W-survival/blob/main/13.jpg?raw=true', 
            text: `Ïò§Ï†ÑÏùºÏùÑ Í≤®Ïö∞ ÎßàÎ¨¥Î¶¨ÌïòÍ≥† Ï†êÏã¨ÏùÑ Î®πÏúºÎü¨ ÎÇ¥Î†§ÏôîÎã§.\n\n"ÌäπÎ≥Ñ.. Î©îÎâ¥?üò®"\n\n"Ïò§ÎäòÏùÄ Îëò Îã§ ÌäπÎ≥Ñ Î©îÎâ¥ÏûÖÎãàÎã§?"\n\nÏã¨ÏÉÅÏπò ÏïäÏùÄ ÎäêÎÇåÏù¥ Îì†Îã§. Î¨¥Ïä® Î©îÎâ¥Î•º Î®πÏùÑÍπå?`,
            choices: [
                { text: '1. ÌïúÏãù ÏöîÎ¶¨(ÎëêÎ∞òÏû•ÌùëÏûÑÏûêÏó∞Í∑ºÏÉêÎü¨ÎìúÎçÆÎ∞•)üçõü•óüç±', next: 'scene6_1' },
                { text: '2. ÏùºÌíà ÏöîÎ¶¨(ÏåàÏû•ÎìúÎ†àÏã±Ï∑®ÎÇòÎ¨ºÌÅ¨Î¶ºÌÜ†Ïä§Ìä∏)ü´òüåøüçû', next: 'scene6_2' }
            ]
        },
        'scene6_1': {
            title: 'Ïû•Î©¥ 6 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `Í∑∏Î†áÍ≤å Î∞õÏïÑÏò® ÎëêÎ∞òÏû•ÌùëÏûÑÏûêÏó∞Í∑ºÏÉêÎü¨ÎìúÎçÆÎ∞•ÏùÑ ÏãùÌÉÅÏóê ÎÇ¥Î†§ÎÜìÎäîÎã§.\n\n"ÏïÑ.. Î≥¥Í∏∞Îßå Ìï¥ÎèÑ Í±±Ï†ïÎêúÎã§."\n\nÎëêÎ†§ÏõÄÏóê Îñ®Î©∞ Ìïú Ïä§Ìëº ÏûÖÏóê ÎÑ£ÎäîÎã§.üò∞\n\n"ÎßõÏûàÏûñÏïÑ?"\n\nÏÉùÍ∞ÅÎ≥¥Îã§ Í∞êÏπ†ÎßõÏù¥ Ï†àÎ¨òÌïòÎã§!üòå\n(Ï†ïÏã†Î†•Ïù¥ 1 ÌöåÎ≥µ ÎêòÏóàÎã§.)`,
            mentalChange: 1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 7Î°ú Ìñ•ÌïúÎã§)', next: 'scene7' }]
        },
        'scene6_2': {
            title: 'Ïû•Î©¥ 6 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/9.jpg?raw=true', 
            text: `Í∑∏Î†áÍ≤å Î∞õÏïÑÏò® ÏåàÏû•ÎìúÎ†àÏã±Ï∑®ÎÇòÎ¨ºÌÅ¨Î¶ºÌÜ†Ïä§Ìä∏Î•º ÏãùÌÉÅÏóê ÎÇ¥Î†§ÎÜìÎäîÎã§.\n\n"ÏïÑ.. Î≥¥Í∏∞Îßå Ìï¥ÎèÑ Í±±Ï†ïÎêúÎã§."\n\nÎëêÎ†§ÏõÄÏóê Îñ®Î©∞ Ìïú Ïä§Ìëº ÏûÖÏóê ÎÑ£ÎäîÎã§.üò∞\n\n"Ïö∞Ïõ©!"\n\nÏåàÏû•Í≥º Ï†ÑÌòÄ ÎßûÏßÄ ÏïäÎäî ÌÜ†Ïä§Ìä∏Ïùò Î≤ÑÌÑ∞Ìñ•Í∏∞Ïóê Ï†ïÏã†Ïù¥ ÏïÑÎìùÌï¥Ï°åÎã§üòµ‚Äçüí´\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 7Î°ú Ìñ•ÌïúÎã§)', next: 'scene7' }]
        },
        'scene7': {
            title: 'Ïû•Î©¥ 7',
            image: 'https://github.com/caxs23/90W-survival/blob/main/14.jpg?raw=true', 
            text: `"Îã§ÎÖÄÏôîÏäµÎãàÎã§~"\nÏßßÏùÄ Ïù∏ÏÇ¨Î•º ÌïòÍ≥† ÏûêÎ¶¨Ïóê ÏïâÎäîÎã§.\nÎã§Ïãú ÏùºÌï† Ï§ÄÎπÑÎ•º ÌïòÎ†§ÎäîÎç∞, Ïä§ÌÖåÏù¥ÏÖò ÏïûÏúºÎ°ú Î≥¥Ìò∏ÏÇ¨ÎãòüëìÏù¥ ÎÇòÌÉÄÎÇúÎã§.\n\n"ÏïÑ-Ìïòüéµ-üé∂"\nÎòêÎã§Ïãú Î∂àÍ∏∏Ìïú ÌåîÎèôÏûëÏùÑ ÌïòÎ©∞ Í±∏Ïñ¥Ïò§Ïã†Îã§.\n"Ïù¥Î≤àÏóêÎäî, üêôÏ≠àüêôÍæ∏üêôÎØ∏üêô Î®πÏúºÎü¨ Í∞ëÏãúÎã§!üéµ"\n\nÏù¥Î≤àÏóêÎäî Îòê Î¨¥Ïä® ÎßêÏîÄÏùÑ ÌïòÏãúÎ†§Îäî Í±∏Íπå..\nÎòê Ïù¥ÏÉÅÌïú Ïû•ÎÇúÏùÑ ÏπòÎ†§Îäî Í±∏Íπå?`,
            choices: [
                { text: '1. Ïû•ÎÇú Ï¢Ä Í∑∏Îßå ÌïòÏãúÎùºÍ≥† ÌïúÎã§.', next: 'scene7_1' },
                { text: '2. Ï¢ãÎã§Í≥† ÌïúÎã§.', next: 'scene7_2' }
            ]
        },
        'scene7_1': {
            title: 'Ïû•Î©¥ 7 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/11.jpg?raw=true', 
            text: `"Î≥¥Ìò∏ÏÇ¨Îãò, Ïû•ÎÇú Ï¢Ä Í∑∏Îßå ÌïòÏÑ∏Ïöî.. Îòê Î©îÎâ¥Í∞ÄÏßÄÍ≥† Í∑∏Îü¨ÏãúÎäî Í±∞ÏòàÏöî?"\n\nÎëê Î≤àÏùÄ ÎÑàÎ¨¥ Ïã¨ÌñàÏßÄ. ÎÇòÎèÑ Ìïú ÎßàÎîî ÌïúÎã§.üí¢\n\n"ÏïÑ.. ÎÇòÎäî ÏßÄÍ∏àÍπåÏßÄ Í∞ôÏù¥ ÏùºÌïúÍ≤å Í≥†ÎßàÏõåÏÑú..\nÏù¥Î≤àÏóêÎäî Ï†úÎåÄÎ°ú ÏÇ¨Î†§Í≥† ÌóÄÎçò Í±¥Îç∞..\nÏã´ÏúºÎ©¥ ÎßêÏñ¥Ïöî..ü•≤"\n\nÎ≥¥Ìò∏ÏÇ¨ÎãòÏùÄ Ïö∞Ïö∏Ìï¥Ï†∏ÏÑ† ÏûêÎ¶¨Ïóê Ï∂îÏö± ÎäòÏñ¥Ï°åÎã§.\n\nÏïÑ.. ÏßÑÏã¨ÏúºÎ°ú ÏÇ¨Î†§Í≥† ÌïòÏã† Í±∞ÏòÄÍµ¨ÎÇò. \n\nÍ∞ëÏûëÏä§Îü∞ Ïã§ÏàòÏóê Ï£ÑÏ±ÖÍ∞êÏù¥ Î™∞Î†§Ïò®Îã§.üò≠\n(Ï†ïÏã†Î†•Ïù¥ 1 Í∞êÏÜåÌñàÎã§.)`,
            mentalChange: -1,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 8Î°ú Ìñ•ÌïúÎã§)', next: 'scene8' }]
        },
        'scene7_2': {
            title: 'Ïû•Î©¥ 7 - Í≤∞Í≥º',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `"Ïñ¥ Ï†ÄÎäî Ï°∞.."\n"Ï†úÍ∞Ä Ï¢ãÏïÑÏöî Î≥¥Ìò∏ÏÇ¨Îãò! Ï†ÄÎûë Í∞ÄÏöî~"\n\nÏñ¥ÎäêÏÉåÍ∞Ä ÎÇòÌÉÄÎÇú OÎØº Ïå§Ïù¥ Î≥¥Ìò∏ÏÇ¨ÎãòÏóêÍ≤å ÌùîÏæåÌûà Î∞òÏùëÌïúÎã§.\n\n"Ï†úÍ∞Ä Îòê Ï≠àÍæ∏ÎØ∏ ÌïòÎ©¥ ÎßõÏßë ÎÑ§ÎπÑÍ≤åÏù¥ÏÖòÏù¥Ï£†~"\n"ÏïÑÏú†. ÎÇòÏïº Ï¢ãÏßÄ. Ïñ∏Ï†ú Ï≠àÍæ∏ÎØ∏ÎÇò ÏÇ¨Ï§ÑÍ≤åÏöî."\n\nÌôîÍ∏∞Ïï†Ïï†Ìïú Î∂ÑÏúÑÍ∏∞Ïóê ÎÇòÎäî ÏûêÏó∞Ïä§ÎüΩÍ≤å ÎÑòÏñ¥Í∞îÎã§.`,
            choices: [{ text: '1. Îã§ÏùåÏúºÎ°ú (Ïû•Î©¥ 8Î°ú Ìñ•ÌïúÎã§)', next: 'scene8' }]
        },
        'scene8': {
            title: 'Ïû•Î©¥ 8 (ENDING)',
            image: 'https://github.com/caxs23/90W-survival/blob/main/10.jpg?raw=true', 
            text: `ÎìúÎîîÏñ¥ Î™®Îì† ÏóÖÎ¨¥Í∞Ä ÎÅùÎÇòÍ≥† Ïù∏Í≥ÑÎ•º ÎßàÏ≥§Îã§!\nÏô†ÏßÄ ÌèâÏÜåÎ≥¥Îã§ Îçî Ï†ïÏã†ÏóÜÎäî ÌïòÎ£®ÏòÄÏñ¥.\nÍ∑∏ÎûòÎèÑ Î¨¥ÏÇ¨Ìûà ÏßëÏúºÎ°ú ÎèåÏïÑÍ∞ÄÏÑú Îã§ÌñâÏù¥Ïïºüòä`,
            choices: [{ text: '1. Ï≤òÏùåÏúºÎ°ú ÎèåÏïÑÍ∞ÑÎã§ (Ïù∏Ìä∏Î°úÎ°ú Ìñ•ÌïúÎã§)', next: 'intro', reset: true }]
        },
        'gameover': {
            title: 'GAME OVER',
            image: 'https://github.com/caxs23/90W-survival/blob/main/11.jpg?raw=true', 
            text: `Ï†ïÏã†Î†•Ïù¥ Î™®Îëê ÏÜåÏßÑÎêòÏóàÏäµÎãàÎã§...\n90Î≥ëÎèôÏùò ÌòºÎèàÏùÑ Í≤¨ÎîîÏßÄ Î™ªÌïòÍ≥† Ï†ïÏã†ÏùÑ ÏûÉÍ≥† ÎßêÏïòÏäµÎãàÎã§.\n\n"ÏÑ†ÏÉùÎãò? ÏÑ†ÏÉùÎãò!! Ï†ïÏã† Ï∞®Î¶¨ÏÑ∏Ïöî!"`,
            choices: [{ text: 'Îã§Ïãú ÎèÑÏ†ÑÌïòÍ∏∞', next: 'intro', reset: true }]
        }
    };

    let mental = 3;
    let isTyping = false;
    const mainContent = document.getElementById('mainContent');
    const textDisplay = document.getElementById('textDisplay');
    const choiceContainer = document.getElementById('choiceContainer');
    const mentalIcons = document.getElementById('mentalIcons');
    const imageArea = document.getElementById('imageArea');
    const sceneImage = document.getElementById('sceneImage');

    function updateMental() {
        mentalIcons.innerHTML = 'üß†'.repeat(Math.max(0, mental));
    }

    async function typeText(text) {
        isTyping = true;
        textDisplay.innerHTML = '';
        
        const dialog = document.createElement('div');
        dialog.className = 'dialogue typing-cursor';
        textDisplay.appendChild(dialog);

        let i = 0;
        const speed = 25; 

        return new Promise(resolve => {
            function type() {
                if (i < text.length) {
                    dialog.innerHTML += text.charAt(i);
                    i++;
                    // ÌÉÄÏù¥Ìïë Ï§ëÏóêÎèÑ Í≥ÑÏÜç Î∞îÎã•ÏúºÎ°ú Ïä§ÌÅ¨Î°§ Ïú†ÏßÄ
                    mainContent.scrollTop = mainContent.scrollHeight;
                    setTimeout(type, speed);
                } else {
                    dialog.classList.remove('typing-cursor');
                    isTyping = false;
                    resolve();
                }
            }
            type();
        });
    }

    async function loadScene(id) {
        const scene = gameData[id];
        if (!scene) return;

        choiceContainer.innerHTML = '';
        
        if (scene.mentalChange) {
            mental += scene.mentalChange;
            if (mental > 3) mental = 3;
            updateMental();
        }

        if (scene.image) {
            sceneImage.src = scene.image;
            imageArea.style.display = 'block';
        } else {
            imageArea.style.display = 'none';
        }

        const label = document.createElement('div');
        label.className = 'scene-label';
        label.innerText = scene.title;
        textDisplay.innerHTML = '';
        textDisplay.appendChild(label);

        // Ïû•Î©¥ Î∞îÎÄî Îïå Ïä§ÌÅ¨Î°§ ÏÉÅÎã® Ïù¥Îèô
        mainContent.scrollTop = 0;

        await typeText(scene.text);

        if (mental <= 0 && id !== 'gameover') {
            setTimeout(() => loadScene('gameover'), 800);
            return;
        }

        // ÏÑ†ÌÉùÏßÄ ÏÉùÏÑ±
        scene.choices.forEach((c, idx) => {
            const btn = document.createElement('button');
            btn.className = 'choice-btn';
            btn.style.animationDelay = `${idx * 0.1}s`;
            btn.innerText = c.text;
            btn.onclick = () => {
                if (isTyping) return;
                if (c.reset) mental = 3;
                loadScene(c.next);
            };
            choiceContainer.appendChild(btn);
        });

        // ÏÑ†ÌÉùÏßÄÍ∞Ä ÏÉùÏÑ±Îêú ÌõÑ ÌôîÎ©¥ ÌïòÎã®ÏúºÎ°ú ÏûêÎèô Ïä§ÌÅ¨Î°§
        setTimeout(() => {
            choiceContainer.scrollIntoView({ behavior: 'smooth', block: 'end' });
        }, 100);
    }

    window.onload = () => {
        updateMental();
        loadScene('intro');
    };
</script>

</body>
</html>


